<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Tracing function calls - Pascal's Triangle C++ coding challenge</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A discussion of C++ programming techniques through the medium of Pascal's Triangle">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../pascals_triangle.html">Pascal's Triangle Coding Challenge</a></li><li class="chapter-item expanded affix "><a href="../submissions.html">Submissions</a></li><li class="chapter-item expanded "><a href="../loops/loops.html"><strong aria-hidden="true">1.</strong> Loops make the world go round (and round...)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../loops/dont_do_unnecessary_work.html"><strong aria-hidden="true">1.1.</strong> Don't do more work than you need to?</a></li><li class="chapter-item expanded "><a href="../loops/memory_allocation_matters.html"><strong aria-hidden="true">1.2.</strong> Memory allocation matters</a></li><li class="chapter-item expanded "><a href="../loops/tracing_function_calls.html" class="active"><strong aria-hidden="true">1.3.</strong> Tracing function calls</a></li><li class="chapter-item expanded "><a href="../loops/cost_of_allocation.html"><strong aria-hidden="true">1.4.</strong> Cost of allocation</a></li><li class="chapter-item expanded "><a href="../loops/be_kind_to_your_cache.html"><strong aria-hidden="true">1.5.</strong> Be kind to your cache</a></li><li class="chapter-item expanded "><a href="../loops/span.html"><strong aria-hidden="true">1.6.</strong> When everything looks like a nail</a></li><li class="chapter-item expanded "><a href="../loops/summary.html"><strong aria-hidden="true">1.7.</strong> Summary</a></li></ol></li><li class="chapter-item expanded "><a href="../everything_is_a_matrix.html"><strong aria-hidden="true">2.</strong> Everything is a matrix</a></li><li class="chapter-item expanded "><a href="../stl_algorithms.html"><strong aria-hidden="true">3.</strong> STL algorithms</a></li><li class="chapter-item expanded "><a href="../threads/threads_to_the_rescue.html"><strong aria-hidden="true">4.</strong> Threads to the rescue!</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../threads/async.html"><strong aria-hidden="true">4.1.</strong> Making a stink about std::async</a></li><li class="chapter-item expanded "><a href="../threads/work_stealing.html"><strong aria-hidden="true">4.2.</strong> Work stealing</a></li><li class="chapter-item expanded "><a href="../threads/allocators.html"><strong aria-hidden="true">4.3.</strong> Allocators</a></li><li class="chapter-item expanded "><a href="../threads/amdahls_law.html"><strong aria-hidden="true">4.4.</strong> Use moar cores!</a></li><li class="chapter-item expanded "><a href="../threads/cleverness.html"><strong aria-hidden="true">4.5.</strong> Clever ain't always fast</a></li><li class="chapter-item expanded "><a href="../threads/summary.html"><strong aria-hidden="true">4.6.</strong> Summary</a></li></ol></li><li class="chapter-item expanded "><a href="../all_your_tests_are_terrible.html"><strong aria-hidden="true">5.</strong> All your tests are terrible!</a></li><li class="chapter-item expanded "><a href="../laziness.html"><strong aria-hidden="true">6.</strong> Laziness is the first step towards efficiency</a></li><li class="chapter-item expanded "><a href="../ranges.html"><strong aria-hidden="true">7.</strong> How to kill your compile times</a></li><li class="chapter-item expanded "><a href="../constexpr_cake.html"><strong aria-hidden="true">8.</strong> Have your constexpr cake and eat it</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../optimizer_magic.html"><strong aria-hidden="true">8.1.</strong> The optimizer is magic</a></li></ol></li><li class="chapter-item expanded "><a href="../property_based_testing.html"><strong aria-hidden="true">9.</strong> A surprise win for property based testing</a></li><li class="chapter-item expanded "><a href="../code_alignment_issues.html"><strong aria-hidden="true">10.</strong> A free 50% speed boost. Randomly.</a></li><li class="chapter-item expanded "><a href="../conclusion.html"><strong aria-hidden="true">11.</strong> Conclusion</a></li><li class="chapter-item expanded "><a href="../appendices/problem_statement.html"><strong aria-hidden="true">12.</strong> Appendix I - Original problem statement</a></li><li class="chapter-item expanded "><a href="../appendices/test_setup.html"><strong aria-hidden="true">13.</strong> Appendix II - Benchmark hardware and setup</a></li><li class="chapter-item expanded "><a href="../submissions_appendix.html"><strong aria-hidden="true">14.</strong> Appendix III - Submissions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../solutions/Baseline.html"><strong aria-hidden="true">14.1.</strong> Baseline</a></li><li class="chapter-item expanded "><a href="../solutions/AskingCrow.html"><strong aria-hidden="true">14.2.</strong> AskingCrow</a></li><li class="chapter-item expanded "><a href="../solutions/BumbleBeetle.html"><strong aria-hidden="true">14.3.</strong> BumbleBeetle</a></li><li class="chapter-item expanded "><a href="../solutions/CluelessWolverine.html"><strong aria-hidden="true">14.4.</strong> CluelessWolverine</a></li><li class="chapter-item expanded "><a href="../solutions/CluelessWolverine2.html"><strong aria-hidden="true">14.5.</strong> CluelessWolverine2</a></li><li class="chapter-item expanded "><a href="../solutions/Fortran4Ever.html"><strong aria-hidden="true">14.6.</strong> Fortran4Ever</a></li><li class="chapter-item expanded "><a href="../solutions/simple_basic_solution.html"><strong aria-hidden="true">14.7.</strong> simple_basic_solution</a></li><li class="chapter-item expanded "><a href="../solutions/user_usery.html"><strong aria-hidden="true">14.8.</strong> user_usery</a></li><li class="chapter-item expanded "><a href="../solutions/FlyingDesitter_arh.html"><strong aria-hidden="true">14.9.</strong> FlyingDesitter_arh</a></li><li class="chapter-item expanded "><a href="../solutions/pascalsTriangle.for.html"><strong aria-hidden="true">14.10.</strong> pascalsTriangle.for</a></li><li class="chapter-item expanded "><a href="../solutions/GroovyZone.html"><strong aria-hidden="true">14.11.</strong> GroovyZone</a></li><li class="chapter-item expanded "><a href="../solutions/LordVader.html"><strong aria-hidden="true">14.12.</strong> LordVader</a></li><li class="chapter-item expanded "><a href="../solutions/LordVader2_arh.html"><strong aria-hidden="true">14.13.</strong> LordVader2_arh</a></li><li class="chapter-item expanded "><a href="../solutions/Pixelf.html"><strong aria-hidden="true">14.14.</strong> Pixelf</a></li><li class="chapter-item expanded "><a href="../solutions/Pixelf_TBB_arh.html"><strong aria-hidden="true">14.15.</strong> Pixelf_TBB_arh</a></li><li class="chapter-item expanded "><a href="../solutions/Pixelf_TBB_scalable_alloc_arh.html"><strong aria-hidden="true">14.16.</strong> Pixelf_TBB_scalable_alloc_arh</a></li><li class="chapter-item expanded "><a href="../solutions/Pixelf_TBB_boost_arh.html"><strong aria-hidden="true">14.17.</strong> Pixelf_TBB_boost_arh</a></li><li class="chapter-item expanded "><a href="../solutions/Pixelf_TBB_monotonic_alloc_arh.html"><strong aria-hidden="true">14.18.</strong> Pixelf_TBB_monotonic_alloc_arh</a></li><li class="chapter-item expanded "><a href="../solutions/Pixelf_TBB_single_array_arh.html"><strong aria-hidden="true">14.19.</strong> Pixelf_TBB_single_array_arh</a></li><li class="chapter-item expanded "><a href="../solutions/Pixelf_TBB_spans_arh.html"><strong aria-hidden="true">14.20.</strong> Pixelf_TBB_spans_arh</a></li><li class="chapter-item expanded "><a href="../solutions/DigitalGerbil.html"><strong aria-hidden="true">14.21.</strong> DigitalGerbil</a></li><li class="chapter-item expanded "><a href="../solutions/TerrificPhantom.html"><strong aria-hidden="true">14.22.</strong> TerrificPhantom</a></li><li class="chapter-item expanded "><a href="../solutions/Porpoison.html"><strong aria-hidden="true">14.23.</strong> Porpoison</a></li><li class="chapter-item expanded "><a href="../solutions/ArchBanana.html"><strong aria-hidden="true">14.24.</strong> ArchBanana</a></li><li class="chapter-item expanded "><a href="../solutions/ArchBanana2_arh.html"><strong aria-hidden="true">14.25.</strong> ArchBanana2_arh</a></li><li class="chapter-item expanded "><a href="../solutions/EvilDoughnut.html"><strong aria-hidden="true">14.26.</strong> EvilDoughnut</a></li><li class="chapter-item expanded "><a href="../solutions/FrostyMongoose.html"><strong aria-hidden="true">14.27.</strong> FrostyMongoose</a></li><li class="chapter-item expanded "><a href="../solutions/Proteus.html"><strong aria-hidden="true">14.28.</strong> Proteus</a></li><li class="chapter-item expanded "><a href="../solutions/Erwin.html"><strong aria-hidden="true">14.29.</strong> Erwin</a></li><li class="chapter-item expanded "><a href="../solutions/FireFly.html"><strong aria-hidden="true">14.30.</strong> FireFly</a></li><li class="chapter-item expanded "><a href="../solutions/LightningHippo_arh.html"><strong aria-hidden="true">14.31.</strong> LightningHippo_arh</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Pascal's Triangle C++ coding challenge</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#tracing-function-calls-with-uftrace" id="tracing-function-calls-with-uftrace">Tracing function calls with <code>uftrace</code></a></h1>
<p>So we know that <a href="../solutions/AskingCrow.html">AskingCrow</a> is allocating more
memory than <a href="../solutions/CluelessWolverine2.html">CluelessWolverine2</a>. Using
another nifty tool called <a href="https://github.com/namhyung/uftrace">uftrace</a>, we can
look inside the <code>generate_rows</code> function and get a much clearer idea of exactly
where it's spending its time.</p>
<p>You can use <code>uftrace</code> on any binary that has been built using the <code>-pg</code> gcc
compiler flag. The flag inserts instrumentation into the binary that can trace
every single function call. <code>uftrace</code> uses the instrumentation to dump
a record of every function call into a log file for later analysis.</p>
<p>This sort of tracing has an impact on performance, so you should not take the
timings literally. It's also not able to trace functions that have been inlined
by the compiler<sup class="footnote-reference"><a href="#1">1</a></sup>. The main aim here is to get a feel for how much work the
two solutions are doing.</p>
<h2><a class="header" href="#profiling-function-calls-in-the-generate_rows-function" id="profiling-function-calls-in-the-generate_rows-function">Profiling function calls in the generate_rows function</a></h2>
<p>I built a different executable for each solution, and recorded a <code>uftrace</code>
profile for both of them as they generated a 20,000 row triangle:</p>
<pre><code class="language-bash">uftrace record ./profile_AskingCrow -s 20000
</code></pre>
<p>The <code>uftrace</code> recording for <a href="../solutions/CluelessWolverine2.html">CluelessWolverine2</a>
was a modest 1.9Mb. <a href="../solutions/AskingCrow.html">AskingCrow</a> generated a 6.0Gb
monster-trace 🤢. I think that means it made a few more function calls.</p>
<p>Once I had the recordings, I used the <code>uftrace graph</code> command to print the call
summaries. A lot of the function calls have been inlined by the compiler, so
what we're left with is mostly just the calls to memory management functions.</p>
<table>
<tr>
<th>
Slowest - AskingCrow
</th>
<th>
Fastest - CluelessWolverine2
</th>
</tr>
<tr>
<td valign="top">
<pre><code><!--
-->========== FUNCTION CALL GRAPH ==========
# TOTAL TIME   FUNCTION
   26.592  s : (2) AskingCrow::generate_rows
    9.126  s :  +-(200010000) std::vector::emplace_back
  391.701 ms :  | (287233) std::vector::_M_realloc_insert
  169.273 ms :  |  +-(287233) operator new
             :  |  |
   89.003 ms :  |  +-(267233) memmove
             :  |  |
   20.860 ms :  |  +-(267233) operator delete
             :  |
  457.251 us :  +-(16) std::vector::_M_realloc_insert
   35.081 us :  |  +-(32) operator new
             :  |  |
    8.453 us :  |  +-(16) memmove
             :  |  |
   48.272 us :  |  +-(15) operator delete
             :  |
   85.409 ms :  +-(39984) operator new
             :  |
  572.917 ms :  +-(39984) memmove
             :  |
    4.338 ms :  +-(40000) operator delete
}</code></pre>
</td>
<td  valign="top">
<pre><code><!--
-->========== FUNCTION CALL GRAPH ==========
# TOTAL TIME   FUNCTION
  441.709 ms : (1) CluelessWolverine2::generate_rows
    6.723 us :  +-(1) std::vector::reserve
    6.301 us :  | (1) operator new
             :  |
   25.663 ms :  +-(20000) operator new
</code></pre>
</td>
</tr>
</table>
<p><a href="../solutions/AskingCrow.html">AskingCrow</a> is making a massive number of function
calls. A 20,000 row instance of Pascal's triangle has 200,010,000
elements in it, so it's not surprising to see <code>std::vector::emplace_back</code> being
called that many times. But there's also a huge number of calls to <code>std::vector::_M_realloc_insert</code>,
which is part of the container's automatic resizing mechanism. Each one of those
calls is in turn calling <code>new</code>, <code>memmove</code> and <code>delete</code>. On top of that, every one
of the 20,000 rows seems to be getting <em>two</em> each of <code>new</code>, <code>memmove</code> and <code>delete</code>.</p>
<p>Meanwhile, the svelte and shiny <a href="../solutions/CluelessWolverine2.html">CluelessWolverine2</a>
is getting away with just one call to <code>new</code> for every row. We're not seeing
any calls to <code>delete</code> because the rows don't get deleted until the caller
of <code>generate_rows</code> has finished using them. That's not unique to
<a href="../solutions/CluelessWolverine2.html">CluelessWolverine2</a>; it's just easier to
see because there are fewer other calls.</p>
<p>Now that we know what the bottlenecks are, we can take a look at the code to
explain the behaviour.</p>
<h2><a class="header" href="#identifying-the-rough-edges" id="identifying-the-rough-edges">Identifying the rough edges</a></h2>
<p>Here are the relevant parts of the two solutions side-by-side. I've removed lines
which aren't related to memory allocation.</p>
<table>
<tr>
<th>
Slowest - AskingCrow
</th>
<th>
Fastest - CluelessWolverine2
</th>
</tr>
<tr>
<td valign="top">
<pre><code class="language-c++"><!--
-->std::vector&lt;std::vector&lt;uint64_t&gt;&gt; rows;
std::vector&lt;uint64_t&gt; previous_row;

while (rows.size() &lt num_rows) {
  std::vector&lt;uint64_t&gt; new_row;

  ...

  for (const auto element : previous_row) {
    new_row.push_back(previous_element + element);
    ...
  }

  new_row.push_back(1);
  rows.push_back(new_row);
  previous_row = new_row;
}</code></pre>
</td>
<td  valign="top">
<pre><code class="language-c++">
std::vector&lt;std::vector&lt;uint64_t&gt;&gt; triangle;
triangle.reserve(num_rows);

for (uint32_t i = 0; i &lt num_rows; i++) {
  std::vector&lt;uint64_t&gt; row(i + 1, 1);

  for (uint32_t j = 1; j &lt (i + 2) / 2; j++) {
    row[j] = ...;
  }

  ...
  triangle.push_back(std::move(row));
}
</code></pre>
</td>
</tr>
</table>
<p>You can see how <a href="../solutions/CluelessWolverine2.html">CluelessWolverine2</a> is
careful to take every opportunity to avoid unnecessary memory allocation.
Whenever it constructs a <code>std::vector</code>, it always either initializes the vector
with the correct number of elements:</p>
<pre><code class="language-c++">// Create row, pre-sized, all 1s.
std::vector&lt;uint64_t&gt; row(
  i + 1, // &lt;-- Number of elements
  1      // &lt;-- Initial value of elements
);
</code></pre>
<p>or reserves space for yet-to-be created elements:</p>
<pre><code class="language-c++">std::vector&lt;std::vector&lt;uint64_t&gt;&gt; triangle;
triangle.reserve(num_rows);
</code></pre>
<p>In contrast, <a href="../solutions/AskingCrow.html">AskingCrow</a> begins by constructing
empty vectors:</p>
<pre><code class="language-c++">std::vector&lt;std::vector&lt;uint64_t&gt;&gt; rows;
std::vector&lt;uint64_t&gt; previous_row;
</code></pre>
<p>Then it simply relies on <code>push_back</code> to grow the vector when necessary. That's a
problem because whenever the vector outgrows its storage it needs to reallocate
a new and larger chunk of memory, copy<sup class="footnote-reference"><a href="#2">2</a></sup> all of the elements from the old
chunk into the new chunk and then deallocate the old chunk. But it's worse than
that. When you get a new chunk of memory from the allocator, it may not
be in the cache, so any access will pay the cost of a trip out to main memory.
For small Pascal's triangles, the cost of this memory management greatly
outweighs the cost of actually computing the values to go in the rows.</p>
<p>At the end of its main-loop body, <a href="../solutions/CluelessWolverine2.html">CluelessWolverine2</a>
takes the current row and uses <code>std::move</code> to transfer it cheaply into the outer
vector. Effectively it rips out the guts of the local <code>row</code> variable and hands
them to the outer vector to use:</p>
<pre><code class="language-c++">triangle.push_back(std::move(row));
</code></pre>
<p><a href="../solutions/AskingCrow.html">AskingCrow</a> <em>copies</em> the current row into the outer
vector (requiring an allocation and a <code>memcpy</code>) and then makes a <em>second</em> copy
of it into the <code>previous_row</code> object (which may also allocate before the <code>memcpy</code>).</p>
<pre><code class="language-c++">rows.push_back(new_row); // Always allocates
previous_row = new_row;  // May allocate if 'previous_row' needs resizing
</code></pre>
<p>In the next section we're going to look a little more at the cost of these
extra allocations, using the Tracy frame profiler.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Inlining is where the compiler takes the body of a function and dumps the
whole contents of it into the calling function. This avoids a function
call, but more importantly it allows the optimizer to see right in to the
called function and potentially generate much faster code.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Integer elements of a vector are always copied, because moving doesn't
make sense for trivially copyable types.</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../loops/memory_allocation_matters.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../loops/cost_of_allocation.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../loops/memory_allocation_matters.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../loops/cost_of_allocation.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
